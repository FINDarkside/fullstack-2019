(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(43)},21:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(14),o=t.n(c),u=(t(21),t(7)),i=t(3),s=t.n(i),l=t(5),m=t(2),f=t(4),p=t.n(f),v="/api/persons",d=function(){return p.a.get(v)},b=function(e){return p.a.post(v,e)},E=function(e,n){return p.a.put("".concat(v,"/").concat(e),n)},h=function(e){return p.a.delete("".concat(v,"/").concat(e))},j=function(e){var n=e.notifications;return n.length?r.a.createElement("div",{className:"notification-container"},n.map(function(e,n){return r.a.createElement("div",{key:n},r.a.createElement("div",{className:e.success?"notification success":"notification error"},e.message))})):null},k=function(e){var n=e.search,t=e.setSearch;return r.a.createElement("div",null,"Rajaa n\xe4ytett\xe4vi\xe4 ",r.a.createElement("input",{value:n,onChange:function(e){return t(e.target.value)}}))},w=function(e){var n=e.persons,t=e.removePerson;return r.a.createElement("div",null,n.map(function(e){return r.a.createElement("div",{key:e.name},e.name," ",e.number,r.a.createElement("button",{onClick:function(){return t(e)}},"Delete"))}))},O=function(e){var n=e.addPerson,t=Object(a.useState)(""),c=Object(m.a)(t,2),o=c[0],u=c[1],i=Object(a.useState)(""),s=Object(m.a)(i,2),l=s[0],f=s[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n({name:o,number:l}),u(""),f("")}},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{onChange:function(e){return u(e.target.value)},value:o})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{onChange:function(e){return f(e.target.value)},value:l})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},g=function(){var e=Object(a.useState)([]),n=Object(m.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)([]),i=Object(m.a)(o,2),f=i[0],p=i[1],v=Object(a.useState)(""),g=Object(m.a)(v,2),x=g[0],y=g[1];Object(a.useEffect)(function(){Object(l.a)(s.a.mark(function e(){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:n=e.sent,console.log(n),c(n.data);case 5:case"end":return e.stop()}},e)}))()},[]);var P=t.filter(function(e){return-1!==e.name.toLowerCase().indexOf(x.toLowerCase())}),S=function(){var e=Object(l.a)(s.a.mark(function e(n){var a,r,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t.find(function(e){return e.name===n.name}))){e.next=15;break}if(!window.confirm("".concat(n.name," on jo luettelossa, korvataanko vanha numero uudella?"))){e.next=14;break}return e.prev=3,e.next=6,E(a.id,n);case 6:r=e.sent,c(t.map(function(e){return e.id===a.id?r.data:e})),L("P\xe4ivitettiin henkil\xf6n ".concat(n.name," numero"),!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),L("Henkil\xf6 ".concat(n.name," on jo poistettu "),!1);case 14:return e.abrupt("return");case 15:return e.prev=15,e.next=18,b(n);case 18:o=e.sent,console.log(o.data),c([].concat(Object(u.a)(t),[o.data])),L("Lis\xe4ttiin ".concat(n.name),!0),e.next=28;break;case 24:e.prev=24,e.t1=e.catch(15),console.log(e.t1.response),e.t1.response?L("K\xe4ytt\xe4j\xe4n lis\xe4\xe4minen ep\xe4onnistui: ".concat(e.t1.response.data.error),!1):L("K\xe4ytt\xe4j\xe4n lis\xe4\xe4minen ep\xe4onnistui: ".concat(e.t1.message),!1);case 28:case"end":return e.stop()}},e,null,[[3,11],[15,24]])}));return function(n){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(s.a.mark(function e(n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Poistetaanko henkilo ".concat(n.name))){e.next=11;break}return e.prev=1,e.next=4,h(n.id);case 4:c(t.filter(function(e){return e.id!==n.id})),L("Poistettiin ".concat(n.name),!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),L("Henkil\xf6 ".concat(n.name," on jo poistettu "),!1);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(n){return e.apply(this,arguments)}}(),L=function(e,n){var t={message:e,success:n};p([].concat(Object(u.a)(f),[t])),setTimeout(function(){return N(t)},2e3)},N=function(e){p(f.filter(function(n){return n!==e}))};return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(j,{notifications:f}),r.a.createElement(k,{search:x,setSearch:y}),r.a.createElement("h3",null,"Lis\xe4\xe4 henkil\xf6"),r.a.createElement(O,{addPerson:S}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(w,{persons:P,removePerson:C}))};o.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.a67191ef.chunk.js.map